<!--
	Generated template for the MissionPointingPage page.
	
	See http://ionicframework.com/docs/v2/components/#navigation for more info on
	Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar [color]="themeColor">
        <ion-title>Pointage</ion-title>
    </ion-navbar>
</ion-header>


<ion-content padding>
    <ion-card *ngFor="let day of missionHours, let i=index">
        <ion-card-header class="cardHeader">
            {{day.jour_debut | dateConverter:'long'}}
        </ion-card-header>
        <ion-card-content style="padding: 0;">
            <ion-list>
                <ion-row>
                    <ion-col>
                        <ion-label fixed>H. de début</ion-label>
                    </ion-col>
                    <ion-col>
                        <ion-input
                            value="{{(day.heure_debut_new != '' && day.heure_debut_new != 'null') ? (day.heure_debut_new | timeConverter:'minute') : (day.heure_debut | timeConverter:'minute')}}"
                            disabled="true"></ion-input>
                    </ion-col>
                    <ion-col>
                        <ion-input value="{{day.heure_debut_pointe}}" disabled="true"></ion-input>
                    </ion-col>
                    <ion-col>
                        <button ion-button block (click)="pointHour(false, day, true, false)" [color]="themeColor" [hidden]="!isEmpty(day.heure_debut_pointe)">
                        <ion-icon name="finger-print"></ion-icon>
                        Pointer
                      </button>
                    </ion-col>
                </ion-row>
                <ion-list *ngFor="let pause of missionPauses[i], let j=index" class="marginTopList">
                    <ion-item>
                        <ion-row>
                            <ion-col width-90>
                                <h2>Pause {{j + 1}}</h2>
                            </ion-col>
                        </ion-row>
                    </ion-item>
                    <ion-row>
                        <ion-col>
                            <ion-label fixed>Début de pause</ion-label>
                        </ion-col>
                        <ion-col>
                            <ion-input
                                value="{{!isEmpty(pause.pause_debut_new) ? (pause.pause_debut_new | timeConverter:'minute') : pause.pause_debut}}"
                                disabled="true"></ion-input>
                        </ion-col>
                        <ion-col>
                            <ion-input [(ngModel)]="pause.pause_debut_pointe" disabled="true"></ion-input>
                        </ion-col>
                        <ion-col>
                            <button ion-button block (click)="pointHour(false, pause, true, true)" [color]="themeColor" [hidden]="!isEmpty(pause.pause_debut_pointe)">
                            <ion-icon name="finger-print"></ion-icon>
                            Pointer
                            </button>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col>
                            <ion-label fixed>Fin de pause</ion-label>
                        </ion-col>
                        <ion-col>
                            <ion-input
                                value="{{!isEmpty(pause.pause_fin_new) ? (pause.pause_fin_new | timeConverter:'minute') : (pause.pause_fin)}}"
                                disabled="true"></ion-input>
                        </ion-col>
                        <ion-col>
                            <ion-input [(ngModel)]="pause.pause_fin_pointe" disabled="true"></ion-input>
                        </ion-col>
                        <ion-col>
                            <button ion-button block (click)="pointHour(false, pause, false, true)" [color]="themeColor" [hidden]="!isEmpty(pause.pause_fin_pointe)">
                            <ion-icon name="finger-print"></ion-icon>
                            Pointer
                        </button>
                        </ion-col>
                    </ion-row>
                </ion-list>
                <ion-row>
                    <ion-col>
                        <ion-label fixed>H. de fin</ion-label>
                    </ion-col>
                    <ion-col>
                        <ion-input
                            value="{{(day.heure_fin_new != '' && day.heure_fin_new != 'null') ? (day.heure_fin_new | timeConverter:'minute') : (day.heure_fin | timeConverter:'minute')}}"
                            disabled="true"></ion-input>
                    </ion-col>
                    <ion-col>
                        <ion-input value="{{day.heure_fin_pointe}}" disabled="true"></ion-input>
                    </ion-col>
                    <ion-col>
                        <button ion-button block (click)="pointHour(false, day, false, false)" [color]="themeColor" [hidden]="!isEmpty(day.heure_fin_pointe)">
                            <ion-icon name="finger-print"></ion-icon>
                        Pointer
                        </button>
                    </ion-col>
                </ion-row>
            </ion-list>
        </ion-card-content>
    </ion-card>
    <!--<ion-row>
        <ion-col text-center>
            <button block (click)="pointHour(false)" [style.backgroundColor]="themeColor">
                <ion-icon name="finger-print"></ion-icon>
                Pointer
            </button>
        </ion-col>
    </ion-row>-->
</ion-content>