<ion-header>
    <ion-navbar [color]="themeColor">
        <ion-title>Profil de {{jobyer.nom}} {{jobyer.prenom}}</ion-title>
        <ion-buttons end>
            <button ion-button (click)="closeModal()">
                <ion-icon name="close-circle" style="font-size: xx-large;"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content padding class="modal-profile-jobyer">
    <ion-item>
        <ion-label stacked>Titre de civilité</ion-label>
        <ion-label>{{jobyer.titre}}</ion-label>
    </ion-item>

    <ion-item>
        <ion-label stacked>Nom</ion-label>
        <ion-label>{{jobyer.nom}}</ion-label>
    </ion-item>

    <ion-item>
        <ion-label stacked>Prénom</ion-label>
        <ion-label>{{jobyer.prenom}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.dateNaissance)">
        <ion-label stacked>Date de naissance</ion-label>
        <ion-label>{{toDateString(jobyer.dateNaissance)}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.paysLibelle)">
        <ion-label stacked>Pays de naissance</ion-label>
        <ion-label>{{jobyer.paysLibelle}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isFrench && !isEmpty(jobyer.paysIndex)">
        <ion-label stacked>Code postal du lieu de naissance</ion-label>
        <ion-label>{{jobyer.paysIndex}}</ion-label>
    </ion-item>

    <ion-item *ngIf="isFrench && !isEmpty(jobyer.departmentNum)">
        <ion-label stacked> Département de naissance </ion-label>
        <ion-label>{{jobyer.departmentNum}}</ion-label>
    </ion-item>

    <ion-item *ngIf="isFrench && !isEmpty(jobyer.lieuNaissance)">
        <ion-label stacked>Lieu de naissance</ion-label>
        <ion-label>{{jobyer.lieuNaissance}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.numSS)">
        <ion-label stacked>N° de sécurité sociale</ion-label>
        <ion-label>{{jobyer.numSS}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.natLibelle)">
        <ion-label stacked>Nationalité</ion-label>
        <ion-label>{{jobyer.natLibelle}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.stateLib)">
        <ion-label stacked>Identifiant de nationalité</ion-label>
        <ion-label>{{jobyer.stateLib}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEuropean && !isEmpty(jobyer.numTS)">
        <ion-label stacked> {{!jobyer.estResident ? 'N° du titre de séjour' : 'N° de la carte résident'}}</ion-label>
        <ion-label>{{jobyer.numTS}}</ion-label>
    </ion-item>

    <ion-item *ngIf="isEuropean && isCIN && !isEmpty(jobyer.cni)">
        <ion-label stacked> N° de la CNI ou Passeport </ion-label>
        <ion-label>{{jobyer.cni}}</ion-label>
    </ion-item>

    <ion-item *ngIf="isEuropean && !isCIN && !isEmpty(jobyer.numTS)">
        <ion-label stacked> N° de la carte de ressortissant </ion-label>
        <ion-label>{{jobyer.numTS}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.delivranceTS)">
        <ion-label stacked>Pièce d'identité délivrée le</ion-label>
        <ion-label>{{toDateString(jobyer.delivranceTS)}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.duTS)">
        <ion-label stacked>Pièce d'identité valable du</ion-label>
        <ion-label>{{toDateString(jobyer.duTS)}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.auTS)">
        <ion-label stacked>Pièce d'identité valable au</ion-label>
        <ion-label>{{toDateString(jobyer.auTS)}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.prefectureLibelle)">
        <ion-label stacked>Délivré par</ion-label>
        <ion-label>{{jobyer.prefectureLibelle}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.personnalAdress)" text-wrap>
        <ion-label stacked>Adresse personnelle</ion-label>
        <ion-label>{{jobyer.personnalAdress.fullAdress}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.workAdress)" text-wrap>
        <ion-label stacked>Adresse de départ au travail</ion-label>
        <ion-label>{{jobyer.workAdress.fullAdress}}</ion-label>
    </ion-item>

    <ion-item>
        <ion-label stacked>Nombre d'heures de travail Vit-On-Job</ion-label>
        <ion-label>{{parseInt(jobyer.nbVitOnJobHours/60)}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.nbWorkHours)">
        <ion-label stacked>Nombre d'heures de travail ailleurs</ion-label>
        <ion-label>{{parseInt(jobyer.nbWorkHours)}}</ion-label>
    </ion-item>

    <ion-item *ngIf="!isEmpty(jobyer.nbStudyHoursBig)">
        <ion-label stacked>Nombre d'heures d'étude</ion-label>
        <ion-label>{{jobyer.nbStudyHoursBig ? 'Plus de 350 heures' : 'Moins de 350 heures'}}</ion-label>
    </ion-item>

    <ion-row [hidden]="isEmpty(scanUri)">
        <ion-col text-center>
            <ion-label>Photo {{scanTitle}}</ion-label>
        </ion-col>
    </ion-row>
    <ion-card style="margin: auto;" [hidden]="!scanUri">
        <img [src]="scanUri"/>
        <ion-row>
            <ion-col text-center>
                <button ion-button style="margin: auto;" clear (click)="showModal()" small>
                    <ion-icon name='expand'></ion-icon>
                </button>
            </ion-col>
        </ion-row>
    </ion-card>

    <ion-row [hidden]="isEmpty(jobyer.cv)">
        <ion-col text-center>
            <ion-label>CV</ion-label>
        </ion-col>
    </ion-row>
    <ion-card style="margin: auto;" [hidden]="isEmpty(jobyer.cv)">
        <ion-row>
            <ion-col text-center>
                <button ion-button style="margin: auto;" clear small (click)="downloadCV($event)">
                    <ion-icon name='download'></ion-icon>
                </button>
            </ion-col>
        </ion-row>
    </ion-card>
</ion-content>
