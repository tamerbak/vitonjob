<!--ion-header>
    <ion-navbar [attr.primary]="isEmployer ? '' : null" [attr.secondary]="isEmployer ? null : ''">
        <ion-title style="padding-left: 0">{{fullTitle}}</ion-title>
        <ion-buttons end>
            <button (click)="close()">
                <ion-icon name="close-circle" style="font-size: xx-large;"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header-->

<ion-content padding class="search-details" [ngStyle]="backgroundImage">

    <button ion-button icon-left [color]="themeColor" clear navPop>
        <ion-icon name="arrow-back"></ion-icon>
        Retour à la liste
    </button>

    <ion-card>
        <ion-item text-wrap>
            <ion-avatar item-left><img [src]="avatar"></ion-avatar>
            <h3 style="margin-top: 2px;">{{fullName}}</h3>
            <ion-badge item-right style="margin: 0px 8px 9px 0;">{{(matching.toString().indexOf('.') < 0) ?
                matching:matching.toString().split('.')[0]}}
            </ion-badge>
            <p style="color: yellowgreen">{{starsText}}</p>
        </ion-item>
        <div id="map_canvas" style="height:200px;">
        </div>

        <ion-row>
            <ion-col text-center style="padding-top: 16px;">
                <h2 style="font-weight: bold">{{isEmployer ? 'Offre de service: ' : 'Offre: '}} {{fullTitle}} </h2>
            </ion-col>
        </ion-row>
        <ion-row>&nbsp;</ion-row>

        <ion-list no-lines [hidden]="languages.length==0" style="margin-bottom: 16px;">
            <ion-list-header color="light">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Langues {{isEmployer?"maîtrisées":"requises"}}
            </ion-list-header>
            <ion-item *ngFor="let item of languages">
                <ion-icon name="md-arrow-dropright" item-left></ion-icon>
                {{item.libelle}}
            </ion-item>
        </ion-list>
        <ion-list no-lines [hidden]="qualities.length==0" style="margin-bottom: 16px;">
            <ion-list-header color="light">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qualités {{isEmployer?"acquises":"requises"}}
            </ion-list-header>
            <ion-item *ngFor="let item of qualities">
                <ion-icon name="md-arrow-dropright" item-left></ion-icon>
                {{item.libelle}}
            </ion-item>
        </ion-list>
        <ion-list no-lines *ngIf="videoPresent">
            <ion-list-header>Présentation</ion-list-header>
            <ion-item>
                <iframe width="100%" height="200"
                        src="{{videoLink}}">
                    <!--http://www.youtube.com/embed/XGSy3_Czz8k?autoplay=1 -->
                </iframe>
            </ion-item>
        </ion-list>


        <ion-row>
            <ion-col text-center>
                <button ion-button color="vojgreen"
                        *ngIf="isEmployer && !isRecruteur"
                        (click)="contract()" small>
                    Recrutement immédiat
                </button>
            </ion-col>
        </ion-row>

        <ion-row style="padding-left: 16px; padding-top: 5px"><span style="font-size: small">Entretien :</span>
        </ion-row>
        <ion-item>
            <!--button [attr.secondary]="isEmployer ? '' : null" [attr.primary]="isEmployer ? null : ''"
                    *ngIf="isEmployer && !result.checkedContract && !isRecruteur"
                    (click)="contract()" item-left>
                Recruter maintenant!
            </button-->

            <button ion-button icon-only clear [color]="themeColor"
                    (click)="skype()" item-right>
                <ion-icon name="logo-skype"></ion-icon>
            </button>
            <button ion-button icon-only clear [color]="themeColor"
                    *ngIf="isEmployer || result.accepteCandidature=='true'"
                    (click)="call()" item-right>
                <ion-icon name="call"></ion-icon>
            </button>
            <button ion-button icon-only clear [color]="themeColor"
                    *ngIf="isEmployer || result.accepteCandidature=='true'"
                    (click)="sendSMS()" item-right>
                <ion-icon name="ios-chatboxes"></ion-icon>
            </button>
            <button ion-button icon-only clear [color]="themeColor"
                    *ngIf="isEmployer || result.accepteCandidature=='true'"
                    (click)="sendEmail()" item-right>
                <ion-icon name="mail"></ion-icon>
            </button>
        </ion-item>


        <!--ion-item>
            <ion-label>Candidature en groupe</ion-label>
            <ion-checkbox [(ngModel)]="result.checkedContract" (ionChange)="selectContract($event)"></ion-checkbox>
        </ion-item-->

        <ion-item *ngIf="isEmployer && result.checkedContract" text-wrap style="background-color: lightcyan;
    margin-top: 0;
    margin-bottom: 0;">
            <p>
                <span style="font-size: smaller">Ce jobyer est sélectionné pour l'établissement d'un contrat, vous pouvez consulter les détails dans l'écran "Recrutement groupé"</span>
            </p>
        </ion-item>


    </ion-card>
</ion-content>
