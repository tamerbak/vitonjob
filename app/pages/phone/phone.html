<!--
	Generated template for the PhonePage page.
	
	See http://ionicframework.com/docs/v2/components/#navigation for more info on
	Ionic pages and navigation.
-->
<ion-navbar *navbar [attr.primary]="isEmployer ? '' : null" [attr.secondary]="isEmployer ? null : ''">
	<button menuToggle>
		<ion-icon name="menu"></ion-icon>
	</button>
	<ion-title>{{phoneTitle}}</ion-title>
</ion-navbar>

<ion-content padding class="phone">
	
	<ion-label stacked>Entrez votre numéro de téléphone</ion-label>
	<ion-row baseline>
		<ion-col width-10>
			<ion-icon name="md-call"></ion-icon>
		</ion-col>
		<ion-col width-25>
			<ion-item>
				<ion-input type="number" [(ngModel)]="index"></ion-input>
			</ion-item>
		</ion-col>
		<ion-col width-10>
			<button (click)="doRadioAlert()" class="disable-hover button button-clear button-outline"><ion-icon name="ios-arrow-down"></ion-icon></button>
		</ion-col>
		<ion-col>
			<ion-item>
				<ion-input type="text" [(ngModel)]="phone" (keypress)="checkForString($event)" (keyup)="watchPhone($event, focusable)" maxlength="9"></ion-input>
			</ion-item>
		</ion-col>
	</ion-row>
	<div [hidden]="!showPhoneError()" 
            class="error-box">* Saisissez les 9 chiffres sans le 0</div>
	
	<ion-label [hidden]="!showEmailField" stacked>Votre email</ion-label>
	<ion-item [hidden]="!showEmailField">
		<ion-input #focusable id="email" type="email" [(ngModel)]="email"></ion-input>
	</ion-item>
	<div [hidden]="!showEmailError()" 
            class="error-box">* Veuillez saisir un email valide</div>
	
	<ion-label stacked>Votre mot de passe</ion-label>
	<ion-item>
		<ion-input type="password" [(ngModel)]="password1"></ion-input>
	</ion-item>
	<div [hidden]="!showPassword1Error()" 
            class="error-box">* Taille minimale: 6 caractères</div>
	
	<ion-label [hidden]="!showEmailField" stacked>Confirmation du mot de passe</ion-label>
	<ion-item [hidden]="!showEmailField">
		<ion-input type="password" [(ngModel)]="password2"></ion-input>
	</ion-item>
	<div [hidden]="!showPassword2Error()" 
            class="error-box">* Les deux mots de passe doivent être identiques!</div>
	
	<ion-row>
		<ion-col width-10></ion-col>
		<ion-col text-center>
			<button block (click)="authenticate()" [style.backgroundColor]="themeColor" [disabled]="isAuthDisabled()" type="submit">
				<ion-icon name="log-in"></ion-icon>
				{{libelleButton}}
			</button>
		</ion-col>
		<ion-col width-10></ion-col>
	</ion-row>
	<ion-row>
		<ion-col width-10></ion-col>
		<ion-col text-center>
			<button block (click)="goBack()" light>
				<ion-icon name="undo"></ion-icon>
			Quitter</button>
		</ion-col>
		<ion-col width-10></ion-col>
	</ion-row>
</ion-content>
