<ion-navbar *navbar [attr.primary]="isEmployer ? '' : null" [attr.secondary]="isEmployer ? null : ''">
	<button menuToggle>
		<ion-icon name="menu"></ion-icon>
	</button>
	<ion-title>{{phoneTitle}}</ion-title>

</ion-navbar>

<ion-content padding class="phone" [ngStyle]="backgroundImage">
	
	<ion-label stacked>Entrez votre numéro de téléphone portable</ion-label>
	<ion-row baseline>
		<ion-col width-33>
			<ion-item>
				<ion-input type="number" [(ngModel)]="index"></ion-input>
			</ion-item>
		</ion-col>
		<ion-col width-10>
			<button (click)="doRadioAlert()" class="button button-clear button-outline"><ion-icon name="ios-arrow-down"></ion-icon></button>
		</ion-col>
		<ion-col style="padding-left: 20px;">
			<ion-item>
				<ion-input type="number" [(ngModel)]="phone" (keyup)="watchPhone($event)" maxlength="9" min="0" inputmode="numeric" pattern="[0-9]*"></ion-input>
			</ion-item>
		</ion-col>
	</ion-row>
	<div [hidden]="isPhoneNumValid" class="error-box"></div>
	
	<ion-label [hidden]="!showEmailField" stacked>Votre email</ion-label>
	<ion-item [hidden]="!showEmailField">
		<ion-input #focusable id="email" type="email" [(ngModel)]="email" (change)="isEmailExist($event)"></ion-input>
	</ion-item>
	<div [hidden]="!showEmailError()" 
            class="error-box"><ion-icon name="md-arrow-dropup"></ion-icon> Veuillez saisir un email valide</div>
	<div [hidden]="!emailExist" 
            class="error-box"><ion-icon name="md-arrow-dropup"></ion-icon> Cet email est déjà utilisé. Veuillez choisir un autre.</div>
	
	<ion-label stacked>Votre mot de passe</ion-label>
	<ion-item>
		<ion-input type="password" [(ngModel)]="password1"></ion-input>
	</ion-item>
	<div [hidden]="!showPassword1Error()" 
            class="error-box"><ion-icon name="md-arrow-dropup"></ion-icon> Taille minimale: 6 caractères</div>
	
	<ion-label [hidden]="!showEmailField" stacked>Confirmation du mot de passe</ion-label>
	<ion-item [hidden]="!showEmailField">
		<ion-input type="password" [(ngModel)]="password2"></ion-input>
	</ion-item>
	<div [hidden]="!showPassword2Error()" 
            class="error-box"><ion-icon name="md-arrow-dropup"></ion-icon> Mots de passe non identiques!</div>
	<ion-row>&nbsp;</ion-row>
	<ion-row>
		<ion-col width-10></ion-col>
		<ion-col text-center>
			<button block (click)="authenticate()" [style.backgroundColor]="themeColor" [disabled]="isAuthDisabled()" type="submit" style="opacity: 0.7;">
				<ion-icon name="log-in"></ion-icon>
				{{libelleButton}}
			</button>
		</ion-col>
		<ion-col width-10></ion-col>
	</ion-row>
	
	<ion-row>
		<ion-col width-10></ion-col>
		<ion-col text-center>
			<button block [style.backgroundColor]="themeColor" (click)="goBack()" style="opacity: 0.7;">
				<ion-icon name="undo"></ion-icon>
			Quitter
			</button>
		</ion-col>
		<ion-col width-10></ion-col>
	</ion-row>
	<ion-row>&nbsp;</ion-row>
	<ion-row>
		<ion-col width-10></ion-col>
		<ion-col text-center>
			<button block [style.backgroundColor]="themeColor" (click)="displayPasswordAlert()" style="opacity: 0.7;">
				<ion-icon name="key"></ion-icon>
				Mot de passe oublié
			</button>
		</ion-col>
		<ion-col width-10></ion-col>
	</ion-row>
</ion-content>
