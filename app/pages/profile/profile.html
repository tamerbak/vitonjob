<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-navbar *navbar [attr.primary]="isEmployer ? '' : null" [attr.secondary]="isEmployer ? null : ''">
    <button menuToggle>
        <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Profil</ion-title>
</ion-navbar>

<ion-content padding class="profile">

    <button fab fab-top fab-right [style.backgroundColor]="themeColor"
            (click)="goToSettings()">
        <ion-icon name="settings"></ion-icon>
    </button>

    <button fab fab-top fab-right [style.backgroundColor]="themeColor"
            style="right:78px;">
        <ion-icon name="analytics"></ion-icon>
    </button>

    <button fab fab-top fab-right [style.backgroundColor]="themeColor"
            style="right:139px; color: yellow;" (click)="setStarPicker()">
        <ion-icon name="star"></ion-icon>
    </button>

    <button fab fab-top fab-left class="img-button" (click)="showPictureModel()"
            [style.backgroundColor]="thirdThemeColor">
        <img [src]="userImageURL">
    </button>

    <!-- CIVILITY-->

    <ion-card style="margin-top: 110px">
        <ion-item-divider light>Civilité</ion-item-divider>
        <ion-card-content>
            <ion-item text-wrap>
                <h5>{{userData.titre}} {{userData.nom}} {{userData.prenom}}</h5>
                <p *ngIf="!isEmployer">{{userData.nationalite}}, {{(userData==='M.') ? 'né' : 'née'}} à
                    {{userData.jobyer.lieuNaissance}} le {{userData.jobyer.dateNaissance | dateConverter:'short'}}</p>
                <ul *ngIf="!isEmployer" style="font-size: 1.3rem;">
                    <li>CNI: {{userData.jobyer.cni}}</li>
                    <li>Numéro SS: {{userData.jobyer.numSS}}</li>
                </ul>
            </ion-item>
            <ion-item test-wrap *ngIf="isEmployer">
                <h5>{{userData.employer.entreprises[0].nom}}</h5>
                <p></p>
                <ul style="font-size: 1.3rem;">
                    <li>SIRET: {{userData.employer.entreprises[0].siret}}</li>
                    <li>NAF: {{userData.employer.entreprises[0].naf}}</li>
                </ul>
            </ion-item>
        </ion-card-content>
        <div class="button-footer">
            <button clear [style.color]="themeColor" (click)="goToInfoUserTabs()">
                <ion-icon name="create"></ion-icon>
                <div>Modifier</div>
            </button>
        </div>
    </ion-card>

    <ion-card style="margin-bottom: 0;">
        <ion-item-divider light>Adresses</ion-item-divider>
    </ion-card>

    <div id="map"></div>
    <ion-card class="adv-map" style="margin-top: 0;">
        <ion-item text-wrap>
            <ion-icon subtle large item-left name='pin' style="color: #14baa6"></ion-icon>
            <h5 *ngIf="!isEmployer">Adresse personnelle</h5>
            <h5 *ngIf="isEmployer">Adresse du siège</h5>
            <p *ngIf="!isEmployer">{{userData.jobyer.personnalAdress.fullAdress}}</p>
            <p *ngIf="isEmployer">{{userData.employer.entreprises[0].siegeAdress.fullAdress}}</p>
            <button clear item-right (click)="goToPersonalAddressTab()"><ion-icon name="create"></ion-icon></button>
        </ion-item>
        <ion-item text-wrap>
            <ion-icon subtle large item-left name='pin' style="color: #757575"></ion-icon>
            <h5 *ngIf="!isEmployer">A. départ au travail</h5>
            <h5 *ngIf="isEmployer">Adresse de la mission</h5>
            <p *ngIf="!isEmployer">{{userData.jobyer.workAdress.fullAdress}}</p>
            <p *ngIf="isEmployer">{{userData.employer.entreprises[0].workAdress.fullAdress}}</p>
		<button clear item-right (click)="goToJobAddressTab()"><ion-icon name="create"></ion-icon></button>
        </ion-item>
        <!--div class="button-footer">
            <button clear [style.color]="themeColor">
                <ion-icon name="create"></ion-icon>
                <div>Modifier</div>
            </button>
        </div-->
    </ion-card>


</ion-content>
